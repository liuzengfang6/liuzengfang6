<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/" class="article-date">
  <time class="dt-published" datetime="2024-11-15T14:01:02.000Z" itemprop="datePublished">2024-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/">无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>dvwa搭建过很多次了，这次准备0开始搭建一次。本文将会从一台centos裸机开始，搭建出dvwa靶场。</p>
<p>为了简化部分服务的枯燥安装，且复合中国特色，本文会使用bt面板。官方推荐XAMPP</p>
<p>前排提醒：本文有点抽象，在意的集美集帅们请轻按键盘上的<code>ctrl+w</code></p>
<p>后记:</p>
<p>搭到一半，bt默认有些安全措施，导致dvwa初始化出现了各种问题。枯啦😥，越写越抽象，心态崩了。55555</p>
<h2 id="centos虚拟机安装-pve"><a href="#centos虚拟机安装-pve" class="headerlink" title="centos虚拟机安装(pve)"></a>centos虚拟机安装(pve)</h2><p>没有使用pve的同志可以跳到centos的安装部分，使用vps或者实体鸡的大佬可以直接跳过了</p>
<p>虚拟机创建</p>
<p><img src="/../assets/image_1731669901740_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1731669954186_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1731670046173_0.png" alt="image.png"></p>
<p>以上是基本配置，部分简单的操作这里就不截图了</p>
<p>我们在安装时就将网卡配置好，免得后面再手动配置</p>
<p><img src="/../assets/image_1731670146798_0.png" alt="image.png"></p>
<p>配置root密码</p>
<p><img src="/../assets/image_1731670187617_0.png" alt="image.png"></p>
<h2 id="本地ssh配置-非必需，可以跳过"><a href="#本地ssh配置-非必需，可以跳过" class="headerlink" title="本地ssh配置(非必需，可以跳过)"></a>本地ssh配置(非必需，可以跳过)</h2><p>为了更快捷的连接我们的dvwa主机，对自己电脑中的ssh进行配置。记得上传公钥</p>
<p><img src="/../assets/image_1731670513385_0.png" alt="image.png"></p>
<p>这样就可以使用<code>ssh dvwa</code>愉快的连接辣</p>
<blockquote>
<p>如果你对ssh配置不感兴趣，这一步你可以跳过</p>
</blockquote>
<h2 id="宝塔安装"><a href="#宝塔安装" class="headerlink" title="宝塔安装"></a>宝塔安装</h2><p>前排提醒：安装前你无需对centos进行任何操作，宝塔安装脚本会帮你换源。你也无需担心找不到curl命令。即使是最小安装的centos，curl命令也是会有的。</p>
<p><img src="/../assets/2024-11-15_19-44_1731671072409_0.jpg" alt="2024-11-15_19-44.jpg"><br>id:: 6737337b-8018-4a31-b213-7fafa9020684</p>
<p>复制连接，粘贴到终端中运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=https://download.bt.cn/install/install_lts.sh;if [ -f /usr/bin/curl ];then curl -sSO $url;else wget -O install_lts.sh $url;fi;bash install_lts.sh ed8484bec</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/2024-11-15_19-45_1731671140086_0.jpg" alt="2024-11-15_19-45.jpg"></p>
<p>输入y确定</p>
<p>接下来就是等待</p>
<p><img src="/../assets/2024-11-15_19-56_1731671831220_0.jpg" alt="2024-11-15_19-56.jpg"></p>
<p>出现这个说明你已经成功安装了bt，接下就去愉快的安装lnmp吧</p>
<p>这个信息建议保存，不保存的话忘记了也能重置</p>
<p>使用浏览器进入面板地址</p>
<p>登陆成功后bt会让你绑定账号</p>
<p><img src="/../assets/2024-11-15_20-00_1731672070586_0.jpg" alt="2024-11-15_20-00.jpg"></p>
<p>老老实实绑定吧骚年</p>
<h2 id="lnmp安装"><a href="#lnmp安装" class="headerlink" title="lnmp安装"></a>lnmp安装</h2><p><img src="/../assets/2024-11-15_20-02_1731672145111_0.jpg" alt="2024-11-15_20-02.jpg"></p>
<p>当你绑定完成账号后，bt就热情的推荐你安装lnmp，直接无脑一键安装</p>
<p>这个步骤有点慢，这个时候你可以去下载dvwa的源码</p>
<blockquote>
<p>友情提示： php版本请使用7.3以上，dvwa在7.3以下有问题。</p>
</blockquote>
<h2 id="dvwa安装"><a href="#dvwa安装" class="headerlink" title="dvwa安装"></a>dvwa安装</h2><p>本文采用源码安装，dvwa提供了安装脚本，也有docker镜像。但是俺不得，就用源码装。</p>
<h3 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h3><p>gayhub下载地址</p>
<p><a target="_blank" rel="noopener" href="https://github.com/digininja/DVWA/releases">Releases · digininja&#x2F;DVWA · GitHub</a></p>
<h3 id="上传源码"><a href="#上传源码" class="headerlink" title="上传源码"></a>上传源码</h3><p>这一步有n种方法传上去，这里我们使用bt自带的文件管理上传</p>
<p><img src="/../assets/2024-11-15_20-13_1731672829573_0.jpg" alt="2024-11-15_20-13.jpg"></p>
<p>解压缩</p>
<p><img src="/../assets/2024-11-15_20-14_1731672900310_0.jpg" alt="2024-11-15_20-14.jpg"></p>
<h3 id="创建站点"><a href="#创建站点" class="headerlink" title="创建站点"></a>创建站点</h3><p>添加站点</p>
<p><img src="/../assets/2024-11-15_20-20_1731673209290_0.jpg" alt="2024-11-15_20-20.jpg"></p>
<p>域名这里我们写自己的ip地址，根目录选择解压后的dvwa的目录。</p>
<p>创建一个数据库，为了方便账号密码这里使用的是dvwa配置文件中默认的。如果你想要个性化，后面还需要修改dvwa对应的配置文件。</p>
<p><img src="/../assets/2024-11-15_20-19_1731673167492_0.jpg" alt="2024-11-15_20-19.jpg"></p>
<h3 id="测试可达性"><a href="#测试可达性" class="headerlink" title="测试可达性"></a>测试可达性</h3><p>访问<code>http://192.168.0.124</code></p>
<blockquote>
<p>这里要替换成你的ip啊！！！！ 😠</p>
</blockquote>
<p>不出意外，你的dvwa就可以正常使用了</p>
<p>如果有意外(实际上根据上面的教程来百分百会出意外😁)，请参考: 可能会遇到的问题</p>
<h3 id="初始化dvwa"><a href="#初始化dvwa" class="headerlink" title="初始化dvwa"></a>初始化dvwa</h3><p><img src="/../assets/2024-11-15_20-31_1731673887874_0.jpg" alt="2024-11-15_20-31.jpg"></p>
<p>先不要着急点击创建数据库，看到红色的没有。请先解决。参考: 可能会遇到的问题</p>
<p>bt是作为建站使用的，会默认禁用很多php的危险函数，首先我们要先对这些危险函数放行。参考: 可能会遇到的问题</p>
<p><img src="/../assets/2024-11-15_21-54_1731678895078_0.jpg" alt="2024-11-15_21-54.jpg"></p>
<p>当红字都解决了，你就可以愉快的点击<code>Create / Reset Database</code>按钮辣😁</p>
<p>这个时候你可能会狂点，发现它好像不起作用。不要点辣，重新访问一下<code>login.php</code>试试</p>
<p><img src="/../assets/2024-11-15_21-59_1731679181312_0.jpg" alt="2024-11-15_21-59.jpg"></p>
<p>现在你可以，dvwa启动了</p>
<h2 id="可能会遇到的问题"><a href="#可能会遇到的问题" class="headerlink" title="可能会遇到的问题"></a>可能会遇到的问题</h2><h3 id="宝塔安装时yum被占用了5555"><a href="#宝塔安装时yum被占用了5555" class="headerlink" title="宝塔安装时yum被占用了5555"></a>宝塔安装时yum被占用了5555</h3><p>具体情况是这样</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Another app is currently holding the yum lock; waiting for it to exit...</span><br><span class="line">  The other application is: yum</span><br><span class="line">    Memory :  28 M RSS (1.1 GB VSZ)</span><br><span class="line">    Started: Fri Nov 15 19:47:54 2024 - 02:59 ago</span><br><span class="line">    State  : Sleeping, pid: 9557</span><br></pre></td></tr></table></figure>

<p>这是脚本在安装其他软件，我这个状态是sleeping，可以先给他停止了，虽然不知道会出什么问题..</p>
<p>比较稳妥的方法，使用ps看看是他在干什么</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -elf | grep 9557</span><br><span class="line">4 S root      9557  9556  0  80   0 - 279723 ep_pol 19:47 pts/0   00:00:00 /usr/bin/python /bin/yum -y update polkit</span><br></pre></td></tr></table></figure>

<p>以我的这个为例，yum正在安装<code>polkit</code>，等会脚本结束如果没有这个软件，我再手动给他装上就行了</p>
<h3 id="首次访问dvwa报错，不想玩辣"><a href="#首次访问dvwa报错，不想玩辣" class="headerlink" title="首次访问dvwa报错，不想玩辣"></a>首次访问dvwa报错，不想玩辣</h3><p>DVWA System error config file not found. Copy<br>config&#x2F;config.inc.php.dist to config&#x2F;config.inc.php and configure to<br>your environment.</p>
<p><img src="/../assets/2024-11-15_20-25_1731673739929_0.jpg" alt="2024-11-15_20-25.jpg"></p>
<p>字面意思，按照他教你的方法做，将<code>config/config.inc.php.dist </code>拷贝一份到<code>config/config.inc.php </code></p>
<p>你可以用bt的文件管理来做这件事情</p>
<h3 id="bt太安全辣让我的php网站很难被攻击-删除php禁止函数"><a href="#bt太安全辣让我的php网站很难被攻击-删除php禁止函数" class="headerlink" title="bt太安全辣让我的php网站很难被攻击(删除php禁止函数)"></a>bt太安全辣让我的php网站很难被攻击(删除php禁止函数)</h3><p><img src="/../assets/2024-11-15_21-17_1731676645366_0.jpg" alt="2024-11-15_21-17.jpg"></p>
<p>选择你建站时使用的php版本。</p>
<blockquote>
<p>我有这么多php，是因为踩了很多坑，挨个都尝试了一遍 😢</p>
</blockquote>
<p><img src="/../assets/2024-11-15_21-15_1731676612360_0.jpg" alt="2024-11-15_21-15.jpg"></p>
<p>拿起你的鼠标挨个删除吧</p>
<blockquote>
<p>其实可能有更简便的方法来删除，但是我已经挨个点完了，所以你也要点🤓</p>
</blockquote>
<h3 id="初始化时出现了很多红字字🤬丸辣，启用某些配置"><a href="#初始化时出现了很多红字字🤬丸辣，启用某些配置" class="headerlink" title="初始化时出现了很多红字字🤬丸辣，启用某些配置"></a>初始化时出现了很多红字字🤬丸辣，启用某些配置</h3><p>你的红字可能不一样，这里仅介绍将Disabled的红字变成绿色的Enabled</p>
<p><img src="/../assets/2024-11-15_21-30_1731677436636_0.jpg" alt="2024-11-15_21-30.jpg"></p>
<p><img src="/../assets/2024-11-15_21-17_1731677153339_0.jpg" alt="2024-11-15_21-17.jpg"></p>
<p>仍然选择你对应的版本</p>
<p><img src="/../assets/2024-11-15_21-27_1731677252079_0.jpg" alt="2024-11-15_21-27.jpg"></p>
<p><img src="/../assets/2024-11-15_21-32_1731677534622_0.jpg" alt="2024-11-15_21-32.jpg"></p>
<p>搜索你对应的红色字的东西，把它后面的Off改成On</p>
<p><img src="/../assets/2024-11-15_21-33_1731677592936_0.jpg" alt="2024-11-15_21-33.jpg"></p>
<p><img src="/../assets/2024-11-15_21-35_1731677745406_0.jpg" alt="2024-11-15_21-35.jpg"></p>
<p>改完之后重启PHP，重启中间件</p>
<p>如果仍然是红的，那么请修改dvwa根目录下的<code>php.ini</code></p>
<p><img src="/../assets/2024-11-15_21-37_1731677856165_0.jpg" alt="2024-11-15_21-37.jpg"></p>
<h3 id="初始化时reCAPTCHA-key-Missing"><a href="#初始化时reCAPTCHA-key-Missing" class="headerlink" title="初始化时reCAPTCHA key: Missing"></a>初始化时reCAPTCHA key: Missing</h3><p>这个是验证码靶场用的，需要去咕噜咕噜申请验证码的key，不使用这个靶场可以忽略。🪿且咱们搭建在内网，没法申请这个key。如果你搭建在公网上，请自行参考dvwa文档</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="http://bt.cn/">宝塔面板 简单好用的Linux&#x2F;Windows服务器运维管理面板 </a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/digininja/DVWA/releases">Releases · digininja&#x2F;DVWA · GitHub</a></p>
<h2 id="GitHub-digininja-DVWA-Damn-Vulnerable-Web-Application-DVWA"><a href="#GitHub-digininja-DVWA-Damn-Vulnerable-Web-Application-DVWA" class="headerlink" title="GitHub digininja&#x2F;DVWA: Damn Vulnerable Web Application (DVWA)"></a><a target="_blank" rel="noopener" href="https://github.com/digininja/DVWA">GitHub digininja&#x2F;DVWA: Damn Vulnerable Web Application (DVWA)</a></h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/" data-id="cm3it4fgz00006miw1eqda7mx" data-title="无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dvwa/" rel="tag">dvwa</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day4_lks" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/14/day4_lks/" class="article-date">
  <time class="dt-published" datetime="2024-11-14T14:10:28.000Z" itemprop="datePublished">2024-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/14/day4_lks/">day4_lks</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><h2 id="包管理器"><a href="#包管理器" class="headerlink" title="包管理器"></a>包管理器</h2><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/14/linux%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/">linux包管理器 | ziWindlu的博客</a></p>
<h3 id="linux系统信息查看"><a href="#linux系统信息查看" class="headerlink" title="linux系统信息查看"></a>linux系统信息查看</h3><p><code>cat /etc/os-release</code>查看系统相关信息</p>
<p><code>uname -a</code>查看内核版本</p>
<p><strong>工具</strong></p>
<p>neofetch(已归档)</p>
<p>fastfetch(推荐)</p>
<h3 id="LNMP-LAMP"><a href="#LNMP-LAMP" class="headerlink" title="LNMP&#x2F;LAMP"></a>LNMP&#x2F;LAMP</h3><p>bt.cn</p>
<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><h4 id="服务相关"><a href="#服务相关" class="headerlink" title="服务相关"></a>服务相关</h4><p>开启自启动，并现在开启服务<code>systemctl enable --now  sshd</code></p>
<p>关闭开机自启动，并现在关闭服务<code>systemctl disable --now sshd</code></p>
<p>修改配置文件，并令其生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure>

<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p><code>ssh user@host</code>连接</p>
<p><code>ssh-keygen</code>生成公私钥对</p>
<p><code>ssh-copy-id -i /path/to/public user@host</code>上传公钥</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/">ssh上传公钥手动上传+命令上传 | ziWindlu的博客</a></p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>对于ssh服务端的配置文件在<code>/etc/ssh/sshd_config</code></p>
<p>几个重要的配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许root用户登陆</span></span><br><span class="line">PermitRootLogin yes</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许密码认证</span></span><br><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure>

<h3 id="计划任务"><a href="#计划任务" class="headerlink" title="计划任务"></a>计划任务</h3><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><p>系统计划任务<code>/etc/crontab</code></p>
<p>用户计划任务<code>/var/spool/cron/username</code></p>
<h4 id="计划任务crontab"><a href="#计划任务crontab" class="headerlink" title="计划任务crontab"></a>计划任务crontab</h4><p>查看(l)用户(u)的计划任务<code>crontab -l -u username</code></p>
<p>编辑(e)用户(u)的计划任务<code>crontab -e -u username</code></p>
<h3 id="散碎的知识点"><a href="#散碎的知识点" class="headerlink" title="散碎的知识点"></a>散碎的知识点</h3><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="获取系统信息"><a href="#获取系统信息" class="headerlink" title="获取系统信息"></a>获取系统信息</h3><p><img src="/../assets/fetch_1731548301788_0.gif" alt="fetch.gif"></p>
<h3 id="ssh修改配置文件"><a href="#ssh修改配置文件" class="headerlink" title="ssh修改配置文件"></a>ssh修改配置文件</h3><p><img src="/../assets/shhd_1731551609156_0.gif" alt="shhd.gif"></p>
<h3 id="计划任务crontab使用"><a href="#计划任务crontab使用" class="headerlink" title="计划任务crontab使用"></a>计划任务crontab使用</h3><p>为用户lzf创建一个定时任务</p>
<p><img src="/../assets/crontab_1731578969266_0.gif" alt="crontab.gif"></p>
<h2 id="思考-todo"><a href="#思考-todo" class="headerlink" title="思考&amp;&amp;todo"></a>思考&amp;&amp;todo</h2><p>asciinema不支持显示edit-in-kitty，以后需要避免使用</p>
<p>kitty仅可在显式的使用ssh连接的用户中使用edit-in-kitty，切换用户后</p>
<p>DONE 让kali的zsh支持<code>c-p</code>,<code>c-n</code>作为上和下键来使用</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Cron#Configuration">cron ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/14/day4_lks/" data-id="cm3he0zwd0003gmiw5azf2qhs" data-title="day4_lks" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lks/" rel="tag">lks</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ssh上传公钥手动上传+命令上传" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/" class="article-date">
  <time class="dt-published" datetime="2024-11-14T06:07:04.000Z" itemprop="datePublished">2024-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/">ssh上传公钥手动上传+命令上传</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="公钥生成"><a href="#公钥生成" class="headerlink" title="公钥生成"></a>公钥生成</h2><p><code>ssh-keygen</code></p>
<p>该命令会生成一个私钥和公钥在<code>~/.ssh</code>下</p>
<h2 id="手动上传"><a href="#手动上传" class="headerlink" title="手动上传"></a>手动上传</h2><p><code>~/.ssh/authorized_keys</code>将你的公钥内容复制到远程主机的这个文件中即可，多个要分多行</p>
<p><img src="/../assets/manual_put_public_key_1731563977362_0.gif" alt="manual_put_public_key.gif"></p>
<h2 id="命令上传ssh-copy-id"><a href="#命令上传ssh-copy-id" class="headerlink" title="命令上传ssh-copy-id"></a>命令上传ssh-copy-id</h2><p><code>ssh-copy-id -i /your/public/key.pub username@host</code>命令上传公钥</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/" data-id="cm3he0zwe0004gmiw9xgkhvva" data-title="ssh上传公钥手动上传+命令上传" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh-copy-id/" rel="tag">ssh-copy-id</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day3_lks" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/13/day3_lks/" class="article-date">
  <time class="dt-published" datetime="2024-11-13T14:09:39.000Z" itemprop="datePublished">2024-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/13/day3_lks/">day3_lks</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><h3 id="su-sudo"><a href="#su-sudo" class="headerlink" title="su&amp;sudo"></a>su&amp;sudo</h3><p><code>su</code>意为siwtch user，<code>su [username]</code>为切换到username用户并为其开启一个新的shell环境(-)</p>
<p><code>sudo</code>意为siwtch user do，可以用户以其他用户的权限去执行命令，如果不使用<code>-u</code>参数来指定用户，那么默认会使用超级用户</p>
<p>sudo的其他内容</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/13/sudo%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8sudoer%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%AE%9E%E4%BE%8B/">sudo命令使用sudoer配置文件解析与实例 | ziWindlu的博客</a></p>
<h3 id="修改权限chmod"><a href="#修改权限chmod" class="headerlink" title="修改权限chmod"></a>修改权限chmod</h3><p><code>chmod &lt;mod_options&gt; file</code> 修改权限</p>
<p>关于mod_options:</p>
<p>其有两种表示形式，数字形式和符号形式，这里简单介绍一下符号形式</p>
<p>表示形式<code>[type]&lt;option&gt;&lt;p&gt;</code></p>
<p>type: 可选，u用户、g用户组、o其他用户，a前面的全部，不填则为全部，可填多个</p>
<p>option：必填，+添加权限，-减少权限，&#x3D;精确权限为</p>
<p>p：必填，权限，r、w、x，s，t</p>
<h3 id="修改文件的所有用户和所有组chown"><a href="#修改文件的所有用户和所有组chown" class="headerlink" title="修改文件的所有用户和所有组chown"></a>修改文件的所有用户和所有组chown</h3><p><code>chown &lt;&lt;username&gt;[:groupname]&gt; file</code></p>
<p>这里展示了一种最常用的方式，修改file的所属用户为username,所属组为groups</p>
<h3 id="特殊权限suid-guid-sbit"><a href="#特殊权限suid-guid-sbit" class="headerlink" title="特殊权限suid,guid,sbit"></a>特殊权限suid,guid,sbit</h3><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/13/linux%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90suid,sgid,sbit/">linux特殊权限suid,sgid,sbit | ziWindlu的博客</a></p>
<h3 id="网络管理工具ip-ifconfig-nmtui"><a href="#网络管理工具ip-ifconfig-nmtui" class="headerlink" title="网络管理工具ip,ifconfig,nmtui"></a>网络管理工具ip,ifconfig,nmtui</h3><p>查看：<code>ip addr</code>，<code>ifconfig</code></p>
<p>修改：<code>nmtui</code>在tui中配置网卡；配置文件修改网卡(对于不同的发行版，配置文件的位置可能不同)</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/13/linux%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7ip/">linux网络配置工具ip | ziWindlu的博客</a></p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/13/linux%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C/">linux使用配置文件配置网络 | ziWindlu的博客</a></p>
<h3 id="网络工具ping"><a href="#网络工具ping" class="headerlink" title="网络工具ping"></a>网络工具ping</h3><p><code>ping -c count ip</code>ping指定ip,count次(-c)</p>
<h3 id="网络管理工具netstat"><a href="#网络管理工具netstat" class="headerlink" title="网络管理工具netstat"></a>网络管理工具netstat</h3><p><code>netstat -antulp</code>展示所有的(a)监听状态的(l)tcp(t)和udp(u)协议的连接，显示时展示数字地址(n,numeric)进程id和程序名(p)</p>
<h3 id="系统进程管理和监控工具ps-kill-top"><a href="#系统进程管理和监控工具ps-kill-top" class="headerlink" title="系统进程管理和监控工具ps,kill,top"></a>系统进程管理和监控工具ps,kill,top</h3><p><code>ps -ef</code>显示所有进程(e,everyone)，显示全格式(f,full)(包括父进程、终端、启动时间等详细信息)</p>
<p><code>ps -aux</code> 显示所有(a,all)用户的进程，显示用户格式(u)(包括用户、CPU、内存等信息)，显示没有控制终端(x)的进程</p>
<p><code>kill -9 pid</code>为pid的程序发送强制终止信号(9)</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/13/linux%E8%BF%9B%E7%A8%8B%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7top,htop,btm/">linux进程监控工具top,htop,btm | ziWindlu的博客</a></p>
<h3 id="windows中网络和进程工具"><a href="#windows中网络和进程工具" class="headerlink" title="windows中网络和进程工具"></a>windows中网络和进程工具</h3><p><code>ipconfig</code>查看本地网卡信息</p>
<p><code>netstat -ano</code>展示所有的(a)连接，显示时展示数字地址(n)进程id和程序名(o)</p>
<h3 id="包管理器apt"><a href="#包管理器apt" class="headerlink" title="包管理器apt"></a>包管理器apt</h3><p><strong>安装</strong></p>
<p><code>apt install package</code></p>
<p><strong>搜索</strong></p>
<p><code>apt search package</code></p>
<p><strong>删除</strong></p>
<p><code>apt remove package</code></p>
<p><strong>更新</strong></p>
<p><code>apt update</code>,<code>apt upgrade</code></p>
<h3 id="散碎的知识点"><a href="#散碎的知识点" class="headerlink" title="散碎的知识点"></a>散碎的知识点</h3><p><code>/proc/pid/exe</code>为对应pid运行的程序</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="nmtui配置静态ip实例"><a href="#nmtui配置静态ip实例" class="headerlink" title="nmtui配置静态ip实例"></a>nmtui配置静态ip实例</h3><p>启动nmtui</p>
<p><img src="/../assets/image_1731483528936_0.png" alt="image.png"></p>
<p>选择网卡</p>
<p><img src="/../assets/image_1731483581352_0.png" alt="image.png"></p>
<p>编辑并输入需要配置的内容</p>
<p><img src="/../assets/image_1731483617001_0.png" alt="image.png"></p>
<p>重新激活网卡</p>
<p><img src="/../assets/image_1731483760932_0.png" alt="image.png"></p>
<h3 id="dns修改实例"><a href="#dns修改实例" class="headerlink" title="dns修改实例"></a>dns修改实例</h3><p><img src="/../assets/dns.cast_1731486561096_0.gif" alt="dns.cast.gif"></p>
<h2 id="思考-todo"><a href="#思考-todo" class="headerlink" title="思考&amp;&amp;todo"></a>思考&amp;&amp;todo</h2><p>btm使用</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Main_page">ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/13/day3_lks/" data-id="cm3he0zwf0005gmiw1rfsco5z" data-title="day3_lks" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lks/" rel="tag">lks</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day2_lks" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/12/day2_lks/" class="article-date">
  <time class="dt-published" datetime="2024-11-12T12:50:58.000Z" itemprop="datePublished">2024-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/12/day2_lks/">day2_lks</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><h3 id="linux文件系统分析"><a href="#linux文件系统分析" class="headerlink" title="linux文件系统分析"></a>linux文件系统分析</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/</span><br><span class="line">├── bin -&gt; usr/bin # 可执行程序</span><br><span class="line">├── boot # 系统启动相关</span><br><span class="line">├── dev # 计算机设备</span><br><span class="line">├── efi # 和他的名字一样</span><br><span class="line">├── etc # linux配置文件</span><br><span class="line">├── home # 用户家目录</span><br><span class="line">├── lib -&gt; usr/lib # 库</span><br><span class="line">├── lib64 -&gt; usr/lib # 库</span><br><span class="line">├── media # 一些自动挂载的存储设备会在这个目录挂载 比如u盘</span><br><span class="line">├── mnt # 一般来说手动挂载的设备都挂载在这里</span><br><span class="line">├── opt # 第三方软件</span><br><span class="line">├── proc # 进程相关</span><br><span class="line">├── root # root家目录</span><br><span class="line">├── run # 系统运行时的文件</span><br><span class="line">├── sbin -&gt; usr/bin # 可执行程序</span><br><span class="line">├── sys # 系统目录</span><br><span class="line">├── tmp # 临时数据目录</span><br><span class="line">├── usr # 用户数据</span><br><span class="line">└── var # 经常变化的数据，如log</span><br></pre></td></tr></table></figure>

<h3 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h3><p><strong>文件增删改查</strong></p>
<p>新增： touch,mkdir</p>
<p>删除： rm,rmdir</p>
<p>修改： vi等文本编辑器</p>
<p>重命名、移动： mv</p>
<p>查看： cat等</p>
<p>复制：cp</p>
<h3 id="搜索find常见使用场景"><a href="#搜索find常见使用场景" class="headerlink" title="搜索find常见使用场景"></a>搜索find常见使用场景</h3><p><code>find /search/path -name &quot;searchname&quot;</code></p>
<p>在&#x2F;search&#x2F;path中以”searchname”文件名(name)搜索</p>
<blockquote>
<p>searchname可以使用通配符</p>
</blockquote>
<h3 id="grep常见使用场景"><a href="#grep常见使用场景" class="headerlink" title="grep常见使用场景"></a>grep常见使用场景</h3><p><code>grep -rn &quot;example&quot; /path/to/directory</code></p>
<p>该命令为在目录中递归(r)地搜索example字符串，输出时显示行号(n)</p>
<h3 id="打包、打包-压缩相关"><a href="#打包、打包-压缩相关" class="headerlink" title="打包、打包&amp;压缩相关"></a>打包、打包&amp;压缩相关</h3><p><code>tar -cvf xx.tar /need/package/files</code></p>
<p>将文件打包(c)为xx.tar(f意为指定打包输出的文件)，并输出详情信息(v)</p>
<p>特殊的，如果你想要打包时进行压缩可以添加-z(gzip)或 -j(bzip2)参数</p>
<p><code>tar -xvf xx.tar</code></p>
<p>将xx.tar(f指定解包文件)解包(x)并输出详情信息(v)</p>
<p><code>zip -r xx.zip /need/zip/files</code></p>
<p>递归地(r)将文件压缩为压缩包xx.zip</p>
<p><code>unzip xx.zip -d /unzip/path</code></p>
<p>将xx.zip解压到指定目录(d)</p>
<h3 id="用户-用户组管理"><a href="#用户-用户组管理" class="headerlink" title="用户&amp;用户组管理"></a>用户&amp;用户组管理</h3><p><strong>新增</strong></p>
<p>用户<code>useradd</code></p>
<p>用户组<code>groupadd</code></p>
<p><strong>删除</strong></p>
<p>用户<code>userdel</code></p>
<p>用户组<code>groupdel</code></p>
<p><strong>修改</strong></p>
<p>用户<code>usermod</code></p>
<p>用户组<code>groupmod</code></p>
<p><strong>查看</strong></p>
<p>用户<code>/etc/passwd</code></p>
<p>用户组<code>/etc/group</code></p>
<p><strong>用户的用户组查看</strong></p>
<p>查看用户的用户组<code>groups username</code></p>
<p>查看用户组下的用户<code>grep ^groupname /etc/group</code></p>
<p>部分常用参数以及用户相关文件的介绍</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/07/linux%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84/">linux用户和用户组 | ziWindlu的博客</a></p>
<h3 id="虚拟机网络模式"><a href="#虚拟机网络模式" class="headerlink" title="虚拟机网络模式"></a>虚拟机网络模式</h3><h4 id="nat"><a href="#nat" class="headerlink" title="nat"></a>nat</h4><p>virt-manager中的nat</p>
<p><img src="/../assets/image_1731410569367_0.png" alt="image.png"></p>
<p><img src="/../assets/image_1731410715016_0.png" alt="image.png"></p>
<h4 id="bridge"><a href="#bridge" class="headerlink" title="bridge"></a>bridge</h4><p>virt-manager中的桥接需要手动创建虚拟网卡自行实现，目前存在一些问题。必须使用桥接的场景，则选用vbox</p>
<p><img src="/../assets/image_1731410858175_0.png" alt="image.png"></p>
<h4 id="host-only"><a href="#host-only" class="headerlink" title="host-only"></a>host-only</h4><p><img src="/../assets/image_1731411797359_0.png" alt="image.png"></p>
<h3 id="宿主机与客户机文件传输"><a href="#宿主机与客户机文件传输" class="headerlink" title="宿主机与客户机文件传输"></a>宿主机与客户机文件传输</h3><p>通用的方法</p>
<p>使用虚拟机的增强功能</p>
<p>网络可互通</p>
<p><code>python -m http.server 8848</code></p>
<p><img src="/../assets/image_1731412683449_0.png" alt="image.png"></p>
<p>客户机为windows</p>
<p>本地开启samba服务</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/04/11/samba/">samba | ziWindlu的博客</a></p>
<p>客户机为linux</p>
<p>scp、nfs等</p>
<p>kitty集成</p>
<p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/2024/11/12/kitty+shell%E9%9B%86%E6%88%90%E6%89%93%E9%80%A0%E5%BC%BA%E5%8A%B2%E7%9A%84ssh%E5%B7%A5%E5%85%B7/">kitty+shell集成打造强劲的ssh工具 | ziWindlu的博客</a></p>
<h3 id="vim编辑器"><a href="#vim编辑器" class="headerlink" title="vim编辑器"></a>vim编辑器</h3><p><a target="_blank" rel="noopener" href="https://ziwindlu.github.io/tags/vim/">标签: vim | ziWindlu的博客</a></p>
<h3 id="散碎知识点"><a href="#散碎知识点" class="headerlink" title="散碎知识点"></a>散碎知识点</h3><p>linux中的可执行程序为elf</p>
<h2 id="思考-todo"><a href="#思考-todo" class="headerlink" title="思考&amp;todo"></a>思考&amp;todo</h2><h3 id="我的kali个性化配置-todo"><a href="#我的kali个性化配置-todo" class="headerlink" title="我的kali个性化配置 todo"></a>我的kali个性化配置 todo</h3><h4 id="桌面环境"><a href="#桌面环境" class="headerlink" title="桌面环境"></a>桌面环境</h4><p>因xfce无法使用remmina的自动调整桌面大小，所以使用gnome套件</p>
<h4 id="终端-todo"><a href="#终端-todo" class="headerlink" title="终端 todo"></a>终端 todo</h4><p>kitty+zsh(zinit)</p>
<p>zshrc</p>
<h3 id="一个精简的vimrc-todo"><a href="#一个精简的vimrc-todo" class="headerlink" title="一个精简的vimrc todo"></a>一个精简的vimrc todo</h3><p>符合个人习惯的移动以及一些简单的函数添加</p>
<p>避免使用plug</p>
<p>兼容vi</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>book: 鸟哥的linux私房菜</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/12/day2_lks/" data-id="cm3he0zwa0001gmiw1v5r5fxg" data-title="day2_lks" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lks/" rel="tag">lks</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-virt-manager+remmina舒适的虚拟机体验" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/12/virt-manager+remmina%E8%88%92%E9%80%82%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%93%E9%AA%8C/" class="article-date">
  <time class="dt-published" datetime="2024-11-12T10:40:49.000Z" itemprop="datePublished">2024-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/12/virt-manager+remmina%E8%88%92%E9%80%82%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%93%E9%AA%8C/">virt-manager+remmina舒适的虚拟机体验</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>在使用virtualbox时，vbox打开的虚拟机窗口无法便捷得最小化和展开。于是俺用了remmina，在每台vbox虚拟机的系统中开启rdp或是vnc。后面越发约感觉鸡肋，每次安装虚拟机后都要重新安装一下远程桌面服务。这时俺想到之前使用的virt-manager可以使用spice直接连接，而且这是虚拟化软件提供的，并非操作系统提供的。一是无需对虚拟机安装多余的软件，二是即便虚拟机网络不通，也可以方便的管理。</p>
<p>本文会展示一些关键的配置和一些注意事项。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="virt-manager配置spice连接"><a href="#virt-manager配置spice连接" class="headerlink" title="virt-manager配置spice连接"></a>virt-manager配置spice连接</h3><p><img src="/../assets/image_1731372521093_0.png" alt="image.png"></p>
<p>password可选，如果想要暴露连接可以将address改为”All interfaces“</p>
<h3 id="配置remmina连接"><a href="#配置remmina连接" class="headerlink" title="配置remmina连接"></a>配置remmina连接</h3><p><img src="/../assets/image_1731372696484_0.png" alt="image.png"></p>
<p>仅需填入ip+端口号。这里的ip为宿主机的ip并非客户机的ip</p>
<h3 id="安装spice增强"><a href="#安装spice增强" class="headerlink" title="安装spice增强"></a>安装spice增强</h3><p><strong>windows</strong></p>
<p>下载链接在这里找</p>
<p><a target="_blank" rel="noopener" href="https://www.spice-space.org/download.html">spice-space download</a></p>
<p><strong>linux</strong></p>
<p>debian:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 一般来说linux客户机安装后这个包是默认被安装的</span><br><span class="line">sudo apt install qemu-guest-agent</span><br><span class="line">sudo apt install spice-vdagent</span><br></pre></td></tr></table></figure>

<h2 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h2><h3 id="使用xfce桌面环境的客户机无法自动调整屏幕大小"><a href="#使用xfce桌面环境的客户机无法自动调整屏幕大小" class="headerlink" title="使用xfce桌面环境的客户机无法自动调整屏幕大小"></a>使用xfce桌面环境的客户机无法自动调整屏幕大小</h3><p>目前xfce暂时没有办法自动调整屏幕大小，如有需求可以参考下面这个链接或者使用其他桌面环境，比如gnome。kde没有测试</p>
<p><a target="_blank" rel="noopener" href="https://github.com/seife/spice-autorandr">GitHub seife&#x2F;spice-autorandr: Automatically adjust the client window resolution in Linux KVM guests using the SPICE driver</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a target="_blank" rel="noopener" href="https://www.spice-space.org/download.html">spice-space download</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Virt-manager">Virt-manager ArchWiki</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/12/virt-manager+remmina%E8%88%92%E9%80%82%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%93%E9%AA%8C/" data-id="cm3he0zwm000pgmiw16vx577k" data-title="virt-manager+remmina舒适的虚拟机体验" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/virt-manager/" rel="tag">virt-manager</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-day1_kls" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/11/12/day1_kls/" class="article-date">
  <time class="dt-published" datetime="2024-11-12T02:58:00.000Z" itemprop="datePublished">2024-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/11/12/day1_kls/">day1_kls</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><p>vmware安装</p>
<p>centos7安装</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/11/12/day1_kls/" data-id="cm3he0zw50000gmiw8e473j5r" data-title="day1_kls" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lks/" rel="tag">lks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dvwa/" rel="tag">dvwa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lks/" rel="tag">lks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-copy-id/" rel="tag">ssh-copy-id</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virt-manager/" rel="tag">virt-manager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" rel="tag">虚拟化</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog/" style="font-size: 10px;">blog</a> <a href="/tags/dvwa/" style="font-size: 10px;">dvwa</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/lks/" style="font-size: 20px;">lks</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ssh-copy-id/" style="font-size: 10px;">ssh-copy-id</a> <a href="/tags/virt-manager/" style="font-size: 10px;">virt-manager</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96/" style="font-size: 10px;">虚拟化</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">November 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/11/15/%E6%97%A0%E4%BB%A3%E7%A0%81%E9%BC%A0%E6%A0%87%E5%85%9A%E7%8B%82%E5%96%9C%E5%A5%B6%E5%A6%88%E7%BA%A7%E6%95%99%E5%AD%A6%E4%BB%8E0%E5%BC%80%E5%A7%8B%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8centos%E6%90%AD%E5%BB%BAdvwa/">无代码鼠标党狂喜奶妈级教学从0开始手把手教你使用centos搭建dvwa</a>
          </li>
        
          <li>
            <a href="/2024/11/14/day4_lks/">day4_lks</a>
          </li>
        
          <li>
            <a href="/2024/11/14/ssh%E4%B8%8A%E4%BC%A0%E5%85%AC%E9%92%A5%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0+%E5%91%BD%E4%BB%A4%E4%B8%8A%E4%BC%A0/">ssh上传公钥手动上传+命令上传</a>
          </li>
        
          <li>
            <a href="/2024/11/13/day3_lks/">day3_lks</a>
          </li>
        
          <li>
            <a href="/2024/11/12/day2_lks/">day2_lks</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>